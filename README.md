# Embedded Linux Dev

If you are starting to work with, or study, developing for embedded systems
that use microprocessors, you might be faced with the task of developing a
module, or edit some device tree, for the Linux kernel.

So what code editing tool or IDE to use to gain agility in these tasks? The most
popular code editor among Linux kernel developers is VIM, and its many plugins.
It is not my intention here to try choose the best IDE, text editor etc. Each
has its own preference, and fits best with a certain tool.

I personally adapt better to VS Code. But for large code-based projects, such as
the Linux Kernel, Microsoft's default extension for c/c++ is quite heavy, takes
a long time to index, use all your RAM, and leaves everything buggy üò¢. Besides
missing some plugins to speed up tasks on device-tree files. The solution was to
create an extension, thinking about the development of embedded Linux kernel
worflow for VS Code.

## Requirements

The extension, for now, works only on Linux systems and uses some packages for
its correct operation. Before use you must install the following dependencies
on your system:

- bash
- universal-ctags

An important detail is to install universal-ctags and not exuberant-ctags.
Because exuberant does not index device tree files.

For a complete development experience for the Linux kernel development, during
the installation of the extension, the following extensions will be required to
be installed together:

- [DeviceTree](https://marketplace.visualstudio.com/items?itemName=plorefice.devicetree) (syntax highlighting for device-tree .dts e .dtsi files)
- [kconfig](https://marketplace.visualstudio.com/items?itemName=luveti.kconfig) (syntax highlighting for Kconfig files)

## Features

All features of the extension can be accessed by clicking commands through the
activity bar:

[gifus]

In the next topics, I will describe each of the extension features.

### Device Tree Doc From Compatible

In a device-tree file, ".dts" or ".dtsi", or in a device driver file ".c", mouse
click on a "compatible" string and select the command. VS Code will open the
corresponding documentation file for the compatible:

[gifus]

This functionality can also be selected from the right click context menu:

[gifus]

### Device Driver From Compatible

In a device-tree file, ".dts" or ".dtsi", mouse click on a "compatible" string
and select the command. VS Code will match and open the code file, ‚Äú.c‚Äù, from
the driver that implements compatible:

[gifus]

This functionality can also be selected from the right click context menu:

[gifus]

### ARM/ARM64 dts/dtsi From Include

In a device-tree file, ‚Äú.dts‚Äù or ‚Äú.dtsi‚Äù, mouse click on the string of a
device-tree include and select the command. VS Code will open the corresponding
file:

[gifus]

This functionality can also be selected from the right click context menu:

[gifus]

There are two options for this command, one for ARM and other for ARM64, because
the devices-tree files for each of these archs are on different paths.

### Linux Include From Selected

In ".c", ".dts" or ".dtsi" file, mouse click on an include string and select the
command. VS Code will open the corresponding include:

[gifus]

This functionality can also be selected from the right click context menu:

[gifus]

### Generate CTags

Last but not least. This functionality generates a ‚Äú.vscode-ctags‚Äù file in the
root folder that has been opened. This file is the tag index generated by
universal-ctags. This file is required to generate the project code navigation:

- Jump to definition:
[gifus]

- Code completion:
[gifus]

- Mouse hover tags:
[gifus]

## Known Issues

None yet. You can open issues on [Github repo](https://github.com/microhobby/linuxkerneldev/issues)

## Release Notes

Check the [CHANGELOG.md](https://github.com/microhobby/linuxkerneldev/blob/master/CHANGELOG.md)
